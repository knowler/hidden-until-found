<!doctype html>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<script type="module" src="https://esm.sh/invokers-polyfill"></script>
<script src="./hidden-until-found.js"></script>
<body id=body>
	<button commandfor="body" command="--add-hidden-until-found-element">Add <code>hidden=until-found</code> element</button>
	<script defer>
		document.body.addEventListener("command", event => {
			if (event.command === "--add-hidden-until-found-element") {
				const el = document.createElement("p");
				el.setAttribute("hidden", "until-found");
				el.textContent = "Lorem";
				event.target.append(el);
			}
		});
	</script>
	<p hidden=until-found>Lorem</p>
	<p hidden=until-found>Lorem <button onclick="console.log('hello')">Hello</button></p>
